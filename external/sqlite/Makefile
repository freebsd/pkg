LIB=		sqlite3
INTERNALLIB=
SRCS=		sqlite3.c

CFLAGS+=	-fPIC
WARNS=		1
WFORMAT=	1

# http://www.sqlite.org/compile.html
CFLAGS+=	-DSQLITE_OMIT_AUTOVACUUM \
		-DSQLITE_OMIT_BLOB_LITERAL \
		-DSQLITE_OMIT_COMPLETE \
		-DSQLITE_OMIT_DECLTYPE \
		-DSQLITE_OMIT_DEPRECATED \
		-DSQLITE_OMIT_EXPLAIN \
		-DSQLITE_OMIT_GET_TABLE \
		-DSQLITE_OMIT_LOAD_EXTENSION \
		-DSQLITE_OMIT_PROGRESS_CALLBACK \
		-DSQLITE_OMIT_TCL_VARIABLE \
		-DSQLITE_OMIT_UTF16 \
		-DSQLITE_OMIT_CAT \
		-DSQLITE_OMIT_CHECK \
		-DSQLITE_OMIT_AUTOINIT \
		-DSQLITE_OMIT_COMPILEOPTION_DIAGS \
		-DSQLITE_OMIT_INTEGRITY_CHECK \
		-DSQLITE_OMIT_BUILTIN_TEST \
		-DSQLITE_OMIT_MEMORYDB \
		-DSQLITE_OMIT_SHARED_CACHE \
		-DSQLITE_OMIT_TEMPDB \
		-DUSE_PREAD \
		-DSQLITE_THREADSAFE=1 \
		-DNDEBUG

NO_MAN=		true

.include <bsd.lib.mk>
